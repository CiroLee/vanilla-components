<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vanilla-components | modal</title>
    <link rel="stylesheet" href="./styles/global.css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body>
    <va-theme-provider>
      <nav-header></nav-header>
      <section class="main-container">
        <side-nav active="va-modal"></side-nav>
        <section class="mt-18">
          <h2 class="mb-3">Modal</h2>
          <h4 id="Default" class="mb-2">Default</h4>
          <preview-code-switcher>
            <div slot="preview">
              <va-button id="open-modal-1">open modal</va-button>
            </div>
            <div slot="code">
              <syntax-highlight id="modal-default-code" language="html"></syntax-highlight>
            </div>
            <div slot="code">
              <syntax-highlight id="modal-default-code-js" language="javascript"></syntax-highlight>
            </div>
          </preview-code-switcher>
          <h4 id="Blur-overlay" class="mb-2 mt-3">Blur overlay</h4>
          <preview-code-switcher>
            <div slot="preview">
              <va-button id="open-modal-2">open modal</va-button>
            </div>
            <div slot="code">
              <syntax-highlight id="modal-overlay-code" language="html"></syntax-highlight>
            </div>
          </preview-code-switcher>
          <h4 id="OverlayClickable" class="mb-2 mt-3">OverlayClickable</h4>
          <preview-code-switcher>
            <div slot="preview">
              <va-button id="open-modal-3">open modal</va-button>
            </div>
            <div slot="code">
              <syntax-highlight id="modal-overlay-clickable-code" language="html"></syntax-highlight>
            </div>
          </preview-code-switcher>
          <h4 id="API" class="mt-8 mb-2">API</h4>
          <div class="custom-table">
            <table>
              <thead>
                <tr>
                  <th>属性</th>
                  <th>类型</th>
                  <th>说明</th>
                  <th>必填</th>
                  <th>默认值</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>show</td>
                  <td class="text-(--primary-color)">boolean</td>
                  <td>是否显示模态窗</td>
                  <td>否</td>
                  <td class="text-(--primary-color)">false</td>
                </tr>
                <tr>
                  <td>overlay</td>
                  <td class="enum-tags"><va-tag size="sm">default</va-tag> | <va-tag size="sm">blur</va-tag></td>
                  <td>模态窗遮罩样式</td>
                  <td>否</td>
                  <td><va-tag size="sm">default</va-tag></td>
                </tr>
                <tr>
                  <td>overlay-clickable</td>
                  <td class="text-(--primary-color)">boolean</td>
                  <td>模态窗遮罩是否可点击关闭</td>
                  <td>否</td>
                  <td class="text-(--primary-color)">false</td>
                </tr>
              </tbody>
            </table>
          </div>
          <h4 id="Event" class="mt-8 mb-2">Event</h4>
          <div class="custom-table">
            <table>
              <thead>
                <tr>
                  <th>名称</th>
                  <th>类型</th>
                  <th>说明</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>open</td>
                  <td class="text-(--primary-color)">() => void</td>
                  <td>打开模态窗</td>
                </tr>
                <tr>
                  <td>close</td>
                  <td class="text-(--primary-color)">() => void</td>
                  <td>关闭模态窗</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
        <on-this-page></on-this-page>
      </section>
      <va-modal id="modal-1">
        <p slot="title">标题</p>
        <p slot="description">这是一段描述</p>
        <div slot="content">this is modal content...</div>
        <div slot="footer">
          <va-button id="cancel" variant="ghost">取消</va-button>
          <va-button id="confirm" color="primary">确定</va-button>
        </div>
      </va-modal>
      <va-modal id="modal-2" overlay="blur">
        <p slot="title">标题</p>
        <p slot="description">这是一段描述</p>
        <div slot="content">blur overlay...</div>
      </va-modal>
      <va-modal id="modal-3" overlay-clickable>
        <p slot="title">标题</p>
        <p slot="description">这是一段描述</p>
        <div slot="content">click overlay to close...</div>
      </va-modal>
    </va-theme-provider>
  </body>
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/highlight.min.js"></script>
  <script type="module">
    import './components/nav-header.js';
    import './components/syntax-highlight.js';
    import './components/preview-code-switcher.js';
    import '../ui/theme-provider/index.js';
    import '../ui/modal/index.js';
    import '../ui/button/index.js';
    import '../ui/tag/index.js';
    import './components/side-nav.js';
    import './components/on-this-page.js';
    // codes
    import { defaultModalCodeHtml, defaultModalCodeJs, blurOverlayCode, overlayClickableCode } from './codes/modal.js';
    const modalDefaultCC = document.getElementById('modal-default-code');
    const modalDefaultJsCC = document.getElementById('modal-default-code-js');
    const modalOverlayCC = document.getElementById('modal-overlay-code');
    const modalOverlayClickableCC = document.getElementById('modal-overlay-clickable-code');
    modalDefaultCC.code = defaultModalCodeHtml;
    modalDefaultJsCC.code = defaultModalCodeJs;
    modalOverlayCC.code = blurOverlayCode;
    modalOverlayClickableCC.code = overlayClickableCode;

    document.getElementById('open-modal-1').addEventListener('click', () => {
      document.getElementById('modal-1').show = true;
    });
    document.querySelectorAll('#modal-1 va-button').forEach((el) => {
      el.addEventListener('click', () => {
        document.getElementById('modal-1').show = false;
      });
    });

    document.getElementById('open-modal-2').addEventListener('click', () => {
      document.getElementById('modal-2').show = true;
    });

    document.getElementById('open-modal-3').addEventListener('click', () => {
      document.getElementById('modal-3').show = true;
    });
  </script>
</html>
